@()


<!DOCTYPE HTML>
<html>
    <head>
        @head("注册")
    <script>
            $(document).ready(function () {
                $(".dropdown").hover(
                        function () {
                            $('.dropdown-menu', this).stop(true, true).slideDown("fast");
                            $(this).toggleClass('open');
                        },
                        function () {
                            $('.dropdown-menu', this).stop(true, true).slideUp("fast");
                            $(this).toggleClass('open');
                        }
                );
            });
    </script>
    </head>
    <body>
        @top()
            <!-- banner -->
        <div class="courses_banner">
            <div class="container">
                <h3>注册</h3>
                <p class="description">
                    One of the most interesting places to learn is the library. There are a lot of professional books in the library, which can enrich your professional knowledge. When you confused professional, you can look at the same professional people you understand and recognize it.
                </p>
                <div class="breadcrumb1">
                    <ul>
                        <li class="icon6"><a href="@routes.User.index()">首页</a></li>
                        <li class="current-page">注册</li>
                    </ul>
                </div>
            </div>
        </div>
            <!-- //banner -->
        <div class="courses_box1">
            <div class="container">
                <form class="login" id="form">
                    <p class="lead">注册新账户</p>
                    <div class="form-group">
                        <input type="text" autocomplete="off" class="required form-control" placeholder="昵称" name="nickname" id="nickname"
                        value="">
                    </div>
                    <div class="form-group">
                        <input type="text" autocomplete="off" class="required form-control" placeholder="邮箱" name="mail" id="mail"
                        value="">
                    </div>
                    <div class="form-group">
                        <input type="password" class="required form-control" placeholder="密码" name="password" value="" id="password">
                    </div>
                    <div class="form-group">
                        <input type="password" class="required form-control" placeholder="确认密码" name="repassword" id="repassword"
                        name="Conform Password" value="">
                    </div>
                    <div class="form-group">
                        <input type="button" class="btn btn-primary btn-lg1 btn-block" value="Register" onclick="commit()">
                    </div>
                    <p>已经拥有账户了吗？ <a href="@routes.User.login()">登录</a></p>
                </form>
            </div>
        </div>
        @footer()
    </body>

    <script>
            var $form = $('#form');

            function commit() {
                $.ajax({
                    url: "@routes.User.doRegister()",
                    data: $form.serialize(),
                    dataType: "json",
                    type: "POST",
                    success: function (data) {
                        var ok = data.valid;
                        if (ok === 0)
                            alert('登录成功');
                        else
                            alert(data.cause)
                    },
                    error: function () {
                        alert('sorry, 未能连接至服务器')
                    }
                })
            }
    </script>
</html>